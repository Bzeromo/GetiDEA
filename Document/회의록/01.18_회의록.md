# 데이터베이스 구조 계획 수정

## MySQL

1. `folders`, `locations`, ~~projects~~ 테이블 추가 (오후 회의 이후 `projects` 삭제)

- `folders`에 folderId와 폴더 이름, userId가 들어감
- 메인화면 렌더링 효율을 위해 `projects` 테이블을 추가하려 했으나, `mongo DB`에 키를 추가하는 것이 메모리 효율에 좋다고 판단, 계획 삭제
- `location` 테이블에는 `userId`, `folderId`, `projectId`를 받아 유저 간 다른 이름의 폴더에 같은 프로젝트가 들어갈 수 있도록 처리한다. 
- PK인 `locationId`로 다른 참여자들을 구분하는 것으로 변경

2. `contributors` 테이블 삭제

- `contributors` 내의 속성들을 `locations`로 비정규화
- `authority`(권한)도 `locations`로 이동

## Mongo DB

1. MySQL의 `contributors` 테이블이 삭제되면서 `projects` 컬렉션의 `contributor` 키가 필요 없게 되어 삭제

2. `locationIds` 키를 받아 값으로 다른 유저들의 `locationId`를 저장

3. MySQL의 `projects` 테이블 추가를 계획하면서 `thumbnail`을 컬렉션에서 제외했다가 다시 추가

4. AWS S3 스토리지에는 Image만을 저장하고, 채팅 로그는 `project` 컬렉션에, 탬플릿은 프로젝트의 값 형태와 마찬가지로 `template` 컬렉션에 저장하기로 변경

## redis

1. redis 사전 학습 자료를 보며 이전 기획에 대한 회고
https://velog.io/@bzeromo/DB-Redis

2. redis는 Window os를 지원하지 않기 때문에 docker image를 이용하기로 결정

3. docker에 대한 사전 학습을 추가 과제로 둠
